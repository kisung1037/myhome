<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>계산기</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/calc.css">
</head>
<body>
     <!-- 헤더 -->
     <header>
            <!-- <a href="/myhome/index.html"><img src="/myhome/img/logo.png" alt="logo"></a> -->
    </header>
        <!-- 전역 메뉴 바 -->
        <ul class="gnb">
                <li><a href="/myhome/index.html">홈</a></li>
                <li><a href="/myhome/portfolio/calc.html"class="active">계산기</a></li>
                <li><a href="/myhome/board/list.html">게시판</a></li>
                <li class="float_r"><a href="/myhome/sitemap.html">Sitemap</a></li>
                <li class="float_r"><a href="/myhome/login.html">로그인</a></li>
        </ul>
        <!-- 컨텐츠 -->
        <section>
            <div class="calc">
                <div class="screen">
                    <div class="disp" id="demo" ></div>
                    <div id="textresult"></div>
                </div>
                <div class="top_sign">
                    <button type="button">( )</a>
                    <button type="button" onclick="backText()">back</a>
                    <button type="button" onclick="clearText()">C</a>
                </div>
                <div class="btn">
                    <button type="button" onclick="addNum(this)">7</button>
                    <button type="button" onclick="addNum(this)">8</button>
                    <button type="button" onclick="addNum(this)">9</button>
                    <button type="button" onclick="addSign(this)">*</button>
                    <button type="button" onclick="addNum(this)" style="clear: both;">4</button>
                    <button type="button" onclick="addNum(this)">5</button>
                    <button type="button" onclick="addNum(this)">6</button>
                    <button type="button" onclick="addSign(this)">+</button>
                    <button type="button" onclick="addNum(this)" style="clear: both;">1</button>
                    <button type="button" onclick="addNum(this)">2</button>
                    <button type="button" onclick="addNum(this)">3</button>
                    <button type="button" onclick="addSign(this)">-</button>
                    <button type="button" onclick="addSign(this),showResult()">=</button>
                </div>
            </div>
        </section>
        <!-- 풋터 -->
        <footer>
                <address>
                        북위 35.95° 동경 128.25°
                </address>
        </footer>
</body>
<script>
    var history_arr=[];
    var result= "";
    // var text="";

function addNum(el) {
    var str = el.textContent;
    history_arr.push(str);
    showlist();

    // text += str;
}
function addSign(el) {
    var str = el.textContent;
    if(str !== "=") { history_arr.push(str) };
    showlist();

    if (str === "="){
        var txt = history_arr.join("");
        var evalStr = eval(txt);
        result += evalStr;
    }
}
function showlist() {
    var el = document.getElementById("demo");
    el.innerHTML = history_arr.join("")
}
function showResult() {
    var el = document.getElementById("textresult");
    el.innerHTML = result;
}

function clearText() {
    history_arr=[];
    result="";
    var el = document.getElementById("textresult");
    el.innerHTML = result;
    var el1 = document.getElementById("demo");
    el1.innerHTML = history_arr.join("")
}
function backText() {
    var el = document.getElementById("demo");
    history_arr.pop();
    el.innerHTML = history_arr.join("");
    var el1 = document.getElementById("textresult");
    el1.innerHTML = result;
}

</script>
</html>